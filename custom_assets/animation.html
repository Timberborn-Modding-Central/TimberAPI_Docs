<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Animating objects | TimberAPI</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Animating objects" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Upcoming API to enable easier Timberborn modding" /> <meta property="og:description" content="Upcoming API to enable easier Timberborn modding" /> <link rel="canonical" href="https://timberapi.com/custom_assets/animation" /> <meta property="og:url" content="https://timberapi.com/custom_assets/animation" /> <meta property="og:site_name" content="TimberAPI" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Animating objects" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","dateModified":"2023-05-30T21:40:52+00:00","description":"Upcoming API to enable easier Timberborn modding","headline":"Animating objects","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://gcdn.thunderstore.io/live/repository/icons/Timberborn_Central-TimberAPI-0.3.2.png.128x128_q95.jpg"}},"url":"https://timberapi.com/custom_assets/animation"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> TimberAPI </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://timberapi.com/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://timberapi.com/using_mods/" class="nav-list-link">Using Mods</a><ul class="nav-list "><li class="nav-list-item "><a href="https://timberapi.com/using_mods/manual_install/" class="nav-list-link">Manual Install</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://timberapi.com/making_mods/" class="nav-list-link">Making Mods</a><ul class="nav-list "><li class="nav-list-item "><a href="https://timberapi.com/making_mods/mod_json/" class="nav-list-link">mod.json schema</a></li><li class="nav-list-item "><a href="https://timberapi.com/making_mods/exporting_game_files/" class="nav-list-link">Exporting Game Files</a></li></ul></li><hr class="mt-1 mb-4" /><li class="nav-list-item"><a href="https://timberapi.com/dependency_injection/" class="nav-list-link">Dependency Injection</a></li><li class="nav-list-item"><a href="https://timberapi.com/config/" class="nav-list-link">Config</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://timberapi.com/specifications/" class="nav-list-link">Specifications</a><ul class="nav-list "><li class="nav-list-item "><a href="https://timberapi.com/specifications/schemas/" class="nav-list-link">Timberborn schemas</a></li></ul></li><li class="nav-list-item"><a href="https://timberapi.com/bottom_bar/" class="nav-list-link">Bottom Bar</a></li><li class="nav-list-item"><a href="https://timberapi.com/tools/" class="nav-list-link">Tools</a></li><li class="nav-list-item"><a href="https://timberapi.com/tool_groups/" class="nav-list-link">ToolGroups</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://timberapi.com/custom_assets/" class="nav-list-link">Custom Assets</a><ul class="nav-list "><li class="nav-list-item "><a href="https://timberapi.com/custom_assets/create" class="nav-list-link">Create Custom Assets</a></li><li class="nav-list-item active"><a href="https://timberapi.com/custom_assets/animation" class="nav-list-link active">Animating objects</a></li></ul></li><li class="nav-list-item"><a href="https://timberapi.com/entity_linkers/" class="nav-list-link">Entity Linker</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search TimberAPI" aria-label="Search TimberAPI" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/Timberborn-Modding-Central/TimberAPI" class="site-button" > TimberAPI on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/custom_assets/">Custom Assets</a></li> <li class="breadcrumb-nav-list-item"><span>Animating objects</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p class="text-delta">Last updated: May 30, 2023 21:40:52</p> <h1 class="no_toc" id="create-custom-animations"> <a href="#create-custom-animations" class="anchor-heading" aria-labelledby="create-custom-animations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create Custom Animations </h1> <p>In this guide we will explain the basic steps to adding animations to your objects.</p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#creating-a-prefab" id="markdown-toc-creating-a-prefab">Creating a prefab</a></li> <li><a href="#adding-the-animation-controller" id="markdown-toc-adding-the-animation-controller">Adding the animation controller</a></li> <li><a href="#creating-an-animation" id="markdown-toc-creating-an-animation">Creating an animation</a></li> <li><a href="#adding-logic" id="markdown-toc-adding-logic">Adding logic</a></li> </ol> <h2 id="creating-a-prefab"> <a href="#creating-a-prefab" class="anchor-heading" aria-labelledby="creating-a-prefab"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating a prefab </h2> <p>First, you will need a prefab that has been added to your project which you want to animate. Then we will need a empty game object, which will hold the animation controller. Lastly, we will need a object that we want to animate. For this guide we will use the standard cube.</p> <p><em>Important</em>: The name of the object that you want to animate has to end with “_Animated”. Otherwise the object will not be animated when loaded into the game.</p> <p>This means your hierarchy should look something like this:</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">MyFirstAnimatedObject</span>       <span class="p">(</span><span class="n">Empty</span><span class="p">)</span>
    <span class="nf">AnimationController</span>     <span class="p">(</span><span class="n">Empty</span><span class="p">)</span>
        <span class="nf">Cube_Animated</span>       <span class="p">(</span><span class="n">Cube</span><span class="p">)</span>
</code></pre></div></div> <h2 id="adding-the-animation-controller"> <a href="#adding-the-animation-controller" class="anchor-heading" aria-labelledby="adding-the-animation-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding the animation controller </h2> <p>Now we can add an animation controller to the AnimationController game object. We use a empty game object, so that we can animate all objects that are inside it. To add a animation control op the object and on the inspector add a new component:</p> <p><img src="/assets/images/animation/add_animator.png" alt="add_animator.png" /></p> <p>Next, we want to add a animator object to the animation controller. To do this, right-click inside your folder and under create select “animation controller”.</p> <p><img src="/assets/images/animation/create_animation_controller.png" alt="add_animator.png" /></p> <p>Now add the animation controller that we just created to the AnimationController object by dragging into the box. Now the AnimationController object should look something like this:</p> <p><img src="/assets/images/animation/added_controller_to_controller_object.png" alt="add_animator.png" /></p> <h2 id="creating-an-animation"> <a href="#creating-an-animation" class="anchor-heading" aria-labelledby="creating-an-animation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating an animation </h2> <p>Before we can add an animation to the object, we have to make an animation object. Do the same as for the animation controller, right-click and under create select animation. Then double click to open.</p> <p><img src="/assets/images/animation/create_animation_object.png" alt="add_animator.png" /></p> <p>We then have to add this animation in the animation controller. Double click the animation controller to open and drag the animation into the window. The animation automatically connects to the entry state. This means that when the object is loaded, it will always play this animation. Now double click on the animation in the animator window. For this guide we want the animation to loop, so select both boxes, after which it should like the following:</p> <p><img src="/assets/images/animation/added_animation_to_controller.png" alt="add_animator.png" /></p> <p><em>Note</em>: You can use the layers to give objects inside a prefab different animations. For example the windGauge uses this to, as the rotor will continue to move even when the wind-direction doesn’t change.</p> <p>Now we can start animating! To do this select the AnimationController object and open the animation window. After which you need to select Add Property –&gt; Cube –&gt; Transform –&gt; Rotation. Now you should have something like this:</p> <p><img src="/assets/images/animation/animation_window.png" alt="add_animator.png" /></p> <p>As we only want to rotate the cube, we leave the start the same. Select the end by clicking on 1:00. Now we can select which axes we want the cube to rotate around. We will go with the y-axis. We fill in 360 (degrees). If we select play, we will see the cube rotating!</p> <p><img src="/assets/images/animation/cube_animation.png" alt="add_animator.png" /></p> <h2 id="adding-logic"> <a href="#adding-logic" class="anchor-heading" aria-labelledby="adding-logic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding logic </h2> <p>Sadly, because Timberborn is a little bit different, we have to add some code to make it actually rotate. You will have to add a component to the main prefab with the following code:</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MyFirstAnimationScript</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">Animator</span> <span class="n">_animator</span><span class="p">;</span>
    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_animator</span> <span class="p">=</span> <span class="n">GetComponentInChildren</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;(</span><span class="k">true</span><span class="p">);</span>
        <span class="n">_animator</span><span class="p">.</span><span class="n">speed</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>You should now have it a working cube!</p> <p><img src="/assets/images/animation/animated_cube.gif" alt="add_animator.png" /></p> <hr> <footer> Copyright &copy; 2021-2022 Timberborn-Modding-Central. Distributed by an <a href="https://github.com/Timberborn-Modding-Central/TimberAPI/blob/main/LICENSE">GNU LGPL v2.1 license.</a> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/Timberborn-Modding-Central/TimberAPI_Docs/tree/main//documentation/custom_assets/create_animations.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
